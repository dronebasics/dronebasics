<!DOCTYPE html>
<html>
	<head>
		<title>Drones: Technology</title>
		
		<script src="http://cleantech4us.github.io/JSDep/skrollr.min.js"></script>
		
		<link rel="stylesheet" href="/uni.css" />
		<link rel="stylesheet" href="tech.css" />
		
		<link rel="icon" href="/favicon.ico" type="image/x-icon" />
		
		<!--<script type="text/javascript" src="http://code.jquery.com/jquery-2.2.0.min.js"></script>
		
		<!-- Preloader ->
		<script type="text/javascript">
			//<![CDATA[
				$(window).load(function() { // makes sure the whole site is loaded
					$('#status').fadeOut(); // will first fade out the loading animation
					$('#preloader').delay(350).fadeOut('slow'); // will fade out the white DIV that covers the website.
					$('body').delay(350).css({'overflow':'visible'});
				})
			//]]>
		</script>-->
	</head>
	<body>
		<!-- Preloader -->
		<div id="preloader">
			<div id="status">
				<p>This one should load faster.</p>
				<p>No guarantees that it will actually work properly, though.</p>
				<p><progress id="status2" max="80" value="0"></progress></p>
			</div>
			
		</div>
		
		
		
		<nav>
			<ul>
				<li><a href="/">Home</a></li>
				<li><a href="/Hist">History</a></li>
				<li><a href="/Use">Uses</a></li>
				<li class="CurrPage"><a>Technology</a></li>
				<li><a href="/Prob">Concerns</a></li>
			</ul>
		</nav>
		
		<div id="Card1" class="Card" data-0="opacity:1;" data-500="opacity:0;">
			<h1>Drone Technology</h1>
		</div>
		<div id="Card2" class="Card" data-1000="opacity:0;" data-1300="opacity:1;" data-2300="opacity:1;" data-2600="opacity:0;">
			<h2>Blades</h2>
			<p>Blades provide the drone with the power of flight. Blades can be built from a multitude of materials that include plastics, a fiber-reinforced polymer (carbon fiber), or natural wood. The plastic blades are generally used for consumer entertainment drones, the carbon fiber blades for industrial purposes, and the natural wood blades for science and technology projects such as RC planes.</p>
		</div>
		<div id="Card3" class="Card" data-3300="opacity:0;" data-3600="opacity:1;" data-4000="opacity:1;" data-4300="opacity:0;">
			<h2>Power</h2>
			<p>Drones are powered by a lithium-ion onboard battery. These batteries have to be small in order to fit on the drone. Yet, their small size doesn’t make them very light. In fact, the battery is the heaviest part of the drone, therefore it is centered on the drone frame to equally distribute its weight.</p>
		</div>
		<div id="Card4" class="Card" data-4300="opacity:0;" data-4600="opacity:1;" data-5200="opacity:1;" data-5500="opacity:0;">
			<h2>Communications</h2>
			<p>Drones are able to communicate and transfer many types of signals. Drones use communication devices to talk to satellites to define their locations. Signals can also be boosted using drones. Google has plans to use drones to provide internet to millions of people who wouldn’t otherwise be able to access internet because of their remote homes.</p>
		</div>
		<div id="Card5" class="Card" data-6100="opacity:0;" data-6400="opacity:1;" data-7400="opacity:1;" data-7700="opacity:0;">
			<h2>Landing Mechanism</h2>
			<p>This is one of the most important parts of the robot. It provides the robot with stability on the ground while acting as a shock absorber when the drone lands or takes off. It is much like the suspension system in your car.</p>
		</div>
		<div id="Card6" class="Card" data-8100="opacity:0;" data-8400="opacity:1;">
			<h2>Onboard Computer</h2>
			<p>This acts as the central hub for all info going through the drone. This handles what the motors do so that the drone is able to fly and react to its environment. This also handles what the communications system does. In more ways than one, it is the brain of the drone.</p>
		</div>
		
		<div id="set-height"></div>
		<p id="time"></p>
		<video id="v0" tabindex="0">
			<source type="video/mp4" src="/img/test.mp4">
			</source>
			<p>Sorry, your browser does not support the &lt;video&gt; element.</p>
		</video>
		<video id="v1" tabindex="0">
			<source type="video/mp4" src="/img/test2.mp4">
			</source>
			<p>Sorry, your browser does not support the &lt;video&gt; element.</p>
		</video>
		<!--<img src="/img/dronevideopics/test000.png" id="v1" alt="A video of a drone" />-->

		<script>
			// select video element
			var vid = document.getElementById('v0');
			var backVid = document.getElementById("v1");
			backVid.style.opacity = 0;
			
			// pause video on load
			vid.pause();
			backVid.pause();
			
			
			var scrollDown = true;
			var lastPos = window.pageYOffset;
			
			// pause video on document scroll (stops autoplay once scroll started)
			window.onscroll = function(){
				vid.pause();
			};
			
			
			
			
			
			//
			//	SKROLLR
			//
			var s = skrollr.init();
			
			
			
			//Preloader
			window.addEventListener('load', eventWindowLoaded, false);
			function eventWindowLoaded() {
				console.log("Load Start");
				playVideo();
				//vid.addEventListener("progress", progressHandler,false);       
			}
			
			/*progressHandler = function(e) {    
				if( vid.duration ) {    
					var percent = (vid.buffered.end(0)/vid.duration) * 100;    
					var percent2 = (backVid.buffered.end(0) / backVid.duration) * 100;
					
					var totale = percent + percent2;
					
					console.log( parseInt(totale ));    
					document.getElementById("status2").value = totale;
					
					if( totale >= 80 ) {    
						console.log("loaded!");   
						playVideo();
					}    
					vid.currentTime++;    
					backVid.currentTime++;    
				}    
			}*/
			
			function playVideo() {
				document.getElementById("preloader").style.display = "none";
				document.getElementsByTagName("BODY")[0].style.overflow = "visible";
				console.log("It claims it can play the video");
				
				//vid.removeEventListener("progress", progressHandler,false);   
				
				
				// ======================================================
				// refresh video frames on interval for smoother playback
				// ======================================================
				
				setInterval(function(){
					//var temp = 0;
					
					if(window.pageYOffset == lastPos){
						return;
					}
					
					if(window.pageYOffset > lastPos && !scrollDown){
						window.setTimeout(function(){vid.style.opacity = 1;backVid.style.opacity = 0;}, 200);
						scrollDown = true;
					} else if(window.pageYOffset < lastPos && scrollDown){
						window.setTimeout(function(){vid.style.opacity = 0;backVid.style.opacity = 1;}, 200);
						scrollDown = false;
					}
					
					if(scrollDown){
						vid.currentTime = window.pageYOffset/400;
					} else{
						backVid.currentTime = (8650 - window.pageYOffset) / 400;
					}
					
					
					lastPos = window.pageYOffset;
				}, 100);
			}
			
			
			
			/*
			function addSourceToVideo(element, src, type) {    
    var source = document.createElement('source');    
    source.src = src;    
    source.type = type;    
    element.appendChild(source);    
}

var video;       
$(document).ready(function(){    
    video = document.getElementsByTagName('video')[0];    
    addSourceToVideo( video, "http://your-server.com/clip.ogv", "video/ogv");    
    addSourceToVideo( video, "http://your-server.com/clip.mp4", "video/mp4");    
    video.addEventListener("progress", progressHandler,false);       
});

progressHandler = function(e) {    
    if( video.duration ) {    
        var percent = (video.buffered.end(0)/video.duration) * 100;    
        console.log( percent );    
        if( percent >= 100 ) {    
            console.log("loaded!");    
        }    
        video.currentTime++;    
    }    
}
			*/
			</script>
	
	</body>
</html>